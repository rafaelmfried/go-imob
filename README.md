# üè† iMob - Sistema de Gerenciamento de Contratos de Aluguel

[![Go](https://img.shields.io/badge/Go-1.23-blue.svg)](https://golang.org/)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-18-blue.svg)](https://www.postgresql.org/)
[![Docker](https://img.shields.io/badge/Docker-Compose-blue.svg)](https://docs.docker.com/compose/)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)

Um sistema moderno e escal√°vel para gerenciamento de contratos de aluguel de im√≥veis, desenvolvido em Go com arquitetura de microsservi√ßos.

## üìã √çndice

- [Vis√£o Geral](#-vis√£o-geral)
- [Funcionalidades Atuais](#-funcionalidades-atuais)
- [Roadmap](#-roadmap)
- [Arquitetura](#-arquitetura)
- [Tecnologias](#-tecnologias)
- [Pr√©-requisitos](#-pr√©-requisitos)
- [Instala√ß√£o](#-instala√ß√£o)
- [Uso](#-uso)
- [API Endpoints](#-api-endpoints)
- [Testes](#-testes)
- [Contribui√ß√£o](#-contribui√ß√£o)

## üéØ Vis√£o Geral

O **iMob** √© uma plataforma completa para gerenciamento de contratos de aluguel que permite:

- **Gest√£o de Im√≥veis**: Cadastro e controle de propriedades
- **Gest√£o de Usu√°rios**: Propriet√°rios, inquilinos e corretores
- **Contratos de Aluguel**: Cria√ß√£o, acompanhamento e renova√ß√£o
- **Pagamentos**: Controle de mensalidades e taxas
- **Relat√≥rios**: Dashboards e an√°lises financeiras

### üèóÔ∏è MVP Atual - Sistema Monol√≠tico

Atualmente o sistema implementa um CRUD b√°sico com:

- ‚úÖ **Gest√£o de Usu√°rios** (Propriet√°rios/Inquilinos)
- ‚úÖ **Gest√£o de Propriedades**
- ‚úÖ **API RESTful** com Gin Framework
- ‚úÖ **Banco PostgreSQL** com UUID v7
- ‚úÖ **Docker Compose** para desenvolvimento
- ‚úÖ **Arquitetura Clean** (Handlers, Services, Repositories)

## üöÄ Funcionalidades Atuais

### üë• Gest√£o de Usu√°rios

- Cadastro de usu√°rios (propriet√°rios e inquilinos)
- Busca por ID e email
- Atualiza√ß√£o de dados
- Relacionamento com propriedades

### üè† Gest√£o de Propriedades

- Cadastro de im√≥veis
- Associa√ß√£o com propriet√°rios
- Busca por ID e propriet√°rio
- Informa√ß√µes b√°sicas (t√≠tulo, endere√ßo)

### üîß Infraestrutura

- API REST com valida√ß√£o de dados
- Banco PostgreSQL com UUID v7
- Logging estruturado
- Docker para containeriza√ß√£o
- Configura√ß√£o via vari√°veis de ambiente

## üó∫Ô∏è Roadmap

### üìã Fase 1: CRUD B√°sico ‚úÖ (Atual)

- [x] Gest√£o de Usu√°rios
- [x] Gest√£o de Propriedades
- [x] API REST b√°sica
- [x] Containeriza√ß√£o

### üîê Fase 2: Autentica√ß√£o & Autoriza√ß√£o (Q1 2026)

- [ ] JWT Authentication
- [ ] Role-based Access Control (RBAC)
- [ ] OAuth2 integration
- [ ] API Rate Limiting
- [ ] Session Management

### üìÑ Fase 3: Gest√£o de Contratos (Q1 2026)

- [ ] Modelo de Contratos de Aluguel
- [ ] Templates de contratos
- [ ] Assinatura digital
- [ ] Hist√≥rico de altera√ß√µes
- [ ] Renova√ß√£o autom√°tica

### üí∞ Fase 4: Sistema de Pagamentos (Q2 2026)

- [ ] Integra√ß√£o com gateways de pagamento
- [ ] Controle de mensalidades
- [ ] Multas e juros
- [ ] Notifica√ß√µes de vencimento
- [ ] Relat√≥rios financeiros

### üìä Fase 5: Cache & Performance (Q2 2026)

- [ ] Couchbase para cache distribu√≠do
- [ ] Redis para sess√µes
- [ ] Cache de consultas frequentes
- [ ] Otimiza√ß√£o de queries

### üîÑ Fase 6: Mensageria & Eventos (Q3 2026)

- [ ] RabbitMQ para filas
- [ ] Event-driven architecture
- [ ] Processamento ass√≠ncrono
- [ ] Notifica√ß√µes em tempo real

### üß© Fase 7: Microsservi√ßos (Q3-Q4 2026)

- [ ] **User Service**: Gest√£o de usu√°rios
- [ ] **Property Service**: Gest√£o de im√≥veis
- [ ] **Contract Service**: Gest√£o de contratos
- [ ] **Payment Service**: Processamento de pagamentos
- [ ] **Notification Service**: Notifica√ß√µes
- [ ] **Report Service**: Relat√≥rios e analytics

### ‚ò∏Ô∏è Fase 8: Orquestra√ß√£o Kubernetes (Q4 2026)

- [ ] Deployment em Kubernetes
- [ ] Service Mesh (Istio)
- [ ] Monitoring (Prometheus/Grafana)
- [ ] Logging centralizado (ELK Stack)
- [ ] CI/CD pipelines
- [ ] Auto-scaling

## üèóÔ∏è Arquitetura

### Arquitetura Atual (Monol√≠tica)

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   HTTP Client   ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ   API Gateway   ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ  Load Balancer  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                ‚îÇ
                       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                       ‚îÇ   iMob API      ‚îÇ
                       ‚îÇ   (Gin/Go)      ‚îÇ
                       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                ‚îÇ
                       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                       ‚îÇ  PostgreSQL     ‚îÇ
                       ‚îÇ  (UUID v7)      ‚îÇ
                       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Arquitetura Futura (Microsservi√ßos)

```
                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                    ‚îÇ   API Gateway   ‚îÇ
                    ‚îÇ   (Kong/Nginx)  ‚îÇ
                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚îÇ
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ                   ‚îÇ                   ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ User Service  ‚îÇ  ‚îÇProperty Service‚îÇ  ‚îÇContract Service‚îÇ
‚îÇ    (Go)       ‚îÇ  ‚îÇ     (Go)       ‚îÇ  ‚îÇ     (Go)       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
        ‚îÇ                   ‚îÇ                   ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   PostgreSQL  ‚îÇ  ‚îÇ   PostgreSQL  ‚îÇ  ‚îÇ   PostgreSQL  ‚îÇ
‚îÇ   + Couchbase ‚îÇ  ‚îÇ   + Couchbase ‚îÇ  ‚îÇ   + Couchbase ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚îÇ
                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                    ‚îÇ   RabbitMQ    ‚îÇ
                    ‚îÇ  (Messaging)  ‚îÇ
                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üõ†Ô∏è Tecnologias

### Backend

- **Go 1.23**: Linguagem principal
- **Gin**: Framework web
- **GORM**: ORM para banco de dados
- **PostgreSQL 18**: Banco principal com UUID v7
- **UUID v7**: Identificadores ordenados por tempo

### Infraestrutura Atual

- **Docker & Docker Compose**: Containeriza√ß√£o
- **PostgreSQL**: Banco de dados relacional

### Tecnologias Futuras

- **Couchbase**: Cache distribu√≠do
- **RabbitMQ**: Message broker
- **Kubernetes**: Orquestra√ß√£o de containers
- **Istio**: Service mesh
- **Prometheus/Grafana**: Monitoring
- **ELK Stack**: Logging

## üìã Pr√©-requisitos

- **Docker** >= 20.0
- **Docker Compose** >= 2.0
- **Go** >= 1.23 (para desenvolvimento local)
- **Git**

## üöÄ Instala√ß√£o

### 1. Clone o reposit√≥rio

```bash
git clone https://github.com/rafaelmfried/go-imob.git
cd go-imob
```

### 2. Configure as vari√°veis de ambiente

```bash
cp .env.example .env
# Edite o arquivo .env conforme necess√°rio
```

### 3. Execute com Docker Compose

```bash
# Construir e executar
docker compose up --build -d

# Verificar logs
docker compose logs -f app

# Verificar status
docker compose ps
```

### 4. Acesse a aplica√ß√£o

- **API**: http://localhost:8000
- **PostgreSQL**: localhost:5432

## üíª Uso

### Executar localmente (desenvolvimento)

```bash
# Instalar depend√™ncias
go mod download

# Executar apenas o banco
docker compose up -d db

# Configurar vari√°veis de ambiente
export DBHOST=localhost
export DBPORT=5432
export DBUSER=postgres
export DBPASS=postgres
export DBNAME=imob

# Executar aplica√ß√£o
go run cmd/api/main.go
```

### Executar testes

```bash
# Testes unit√°rios
go test ./...

# Testes com coverage
go test -cover ./...

# Testes E2E (futuros)
make test-e2e
```

## üìö API Endpoints

### üë• Usu√°rios

| M√©todo   | Endpoint              | Descri√ß√£o                |
| -------- | --------------------- | ------------------------ |
| `POST`   | `/users`              | Criar usu√°rio            |
| `GET`    | `/users/:id`          | Buscar usu√°rio por ID    |
| `GET`    | `/users?email=:email` | Buscar usu√°rio por email |
| `PUT`    | `/users/:id`          | Atualizar usu√°rio        |
| `DELETE` | `/users/:id`          | Deletar usu√°rio          |

### üè† Propriedades

| M√©todo   | Endpoint                   | Descri√ß√£o                            |
| -------- | -------------------------- | ------------------------------------ |
| `POST`   | `/properties`              | Criar propriedade                    |
| `GET`    | `/properties/:id`          | Buscar propriedade por ID            |
| `GET`    | `/properties?owner_id=:id` | Buscar propriedades por propriet√°rio |
| `PUT`    | `/properties/:id`          | Atualizar propriedade                |
| `DELETE` | `/properties/:id`          | Deletar propriedade                  |

### üìÑ Exemplos de Uso

#### Criar Usu√°rio

```bash
curl -X POST http://localhost:8000/users \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Jo√£o Silva",
    "email": "joao@example.com"
  }'
```

#### Criar Propriedade

```bash
curl -X POST http://localhost:8000/properties \
  -H "Content-Type: application/json" \
  -d '{
    "title": "Apartamento 2 Quartos",
    "address": "Rua das Flores, 123",
    "owner_id": "019a0c8e-d27d-743b-991e-41fa5c06d9ce"
  }'
```

## üß™ Testes

O projeto utiliza testes em HTTP REST Client:

### Arquivo .http

```http
# Teste completo do fluxo
@base_url=http://localhost:8000

### Criar usu√°rio
# @name CreateUser
POST {{base_url}}/users
Content-Type: application/json

{
    "name": "Rafael Friederick",
    "email": "rafael@example.com"
}

### Criar propriedade
# @name CreateProperty
POST {{base_url}}/properties
Content-Type: application/json

{
    "title": "Casa Moderna",
    "address": "Rua Principal, 456",
    "owner_id": "{{CreateUser.response.body.$.id}}"
}
```

## üè¢ Modelo de Neg√≥cio - Contratos de Aluguel

### Entidades Principais (Futuras)

#### üìã Contrato de Aluguel

- **Informa√ß√µes B√°sicas**: N√∫mero, data in√≠cio/fim, valor
- **Partes**: Locador (propriet√°rio) e Locat√°rio
- **Im√≥vel**: Propriedade associada
- **Condi√ß√µes**: Reajuste, renova√ß√£o, multas
- **Garantias**: Cau√ß√£o, fiador, seguro

#### üí∞ Pagamentos

- **Mensalidades**: Valor, vencimento, status
- **Taxas**: Condom√≠nio, IPTU, √°gua, luz
- **Multas**: Atraso, quebra de contrato
- **Reajustes**: IGPM, IPCA, outros √≠ndices

#### üîî Notifica√ß√µes

- **Vencimentos**: Alertas de pagamento
- **Renova√ß√£o**: Lembretes de fim de contrato
- **Manuten√ß√£o**: Solicita√ß√µes e agendamentos
- **Documentos**: Novos contratos, aditivos

## ü§ù Contribui√ß√£o

1. Fork o projeto
2. Crie uma branch para sua feature (`git checkout -b feature/AmazingFeature`)
3. Commit suas mudan√ßas (`git commit -m 'Add some AmazingFeature'`)
4. Push para a branch (`git push origin feature/AmazingFeature`)
5. Abra um Pull Request

### Padr√µes de C√≥digo

- Seguir [Effective Go](https://golang.org/doc/effective_go.html)
- Usar `gofmt` para formata√ß√£o
- Escrever testes para novas funcionalidades
- Documentar fun√ß√µes p√∫blicas

## üìà Status do Projeto

- üü¢ **Est√°vel**: API b√°sica funcional
- üü° **Em Desenvolvimento**: Novas funcionalidades
- üî¥ **Planejado**: Funcionalidades futuras

## üìù Licen√ßa

Este projeto est√° sob a licen√ßa MIT. Veja o arquivo [LICENSE](LICENSE) para mais detalhes.

## üë®‚Äçüíª Autor

**Rafael Friederick** - [@rafaelmfried](https://github.com/rafaelmfried)

## üôè Agradecimentos

- Comunidade Go pela excelente documenta√ß√£o
- Contributors do projeto
- Inspira√ß√£o em sistemas de gest√£o imobili√°ria existentes

---

‚≠ê **Star este projeto** se ele foi √∫til para voc√™!

üìß **Entre em contato** se tiver d√∫vidas ou sugest√µes!
